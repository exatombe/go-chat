(function(){"use strict";try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.fixed{position:fixed}.bottom-4{bottom:1rem}.right-4{right:1rem}.ml-2{margin-left:.5rem}.mt-4{margin-top:1rem}.block{display:block}.flex{display:flex}.aspect-auto{aspect-ratio:auto}.h-10{height:2.5rem}.h-3\\/4{height:75%}.h-6{height:1.5rem}.h-8{height:2rem}.w-10{width:2.5rem}.w-6{width:1.5rem}.w-8{width:2rem}.w-96{width:24rem}.w-full{width:100%}.cursor-pointer{cursor:pointer}.items-center{align-items:center}.justify-between{justify-content:space-between}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.border-2{border-width:2px}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity))}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.font-semibold{font-weight:600}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity))}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
function He(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}const de=(e,t)=>e===t,M={equals:de};let re=ce;const C=1,W=2,le={owned:null,cleanups:null,context:null,owner:null};var p=null;let J=null,he=null,a=null,h=null,$=null,F=0;function pe(e,t){const s=a,n=p,r=e.length===0,l=t===void 0?n:t,o=r?le:{owned:null,cleanups:null,context:l?l.context:null,owner:l},i=r?e:()=>e(()=>K(()=>H(o)));p=o,a=null;try{return P(i,!0)}finally{a=s,p=n}}function T(e,t){t=t?Object.assign({},M,t):M;const s={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=r=>(typeof r=="function"&&(r=r(s.value)),oe(s,r));return[ie.bind(s),n]}function b(e,t,s){const n=Q(e,t,!1,C);N(n)}function ee(e,t,s){re=ve;const n=Q(e,t,!1,C);n.user=!0,$?$.push(n):N(n)}function E(e,t,s){s=s?Object.assign({},M,s):M;const n=Q(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=s.equals||void 0,N(n),ie.bind(n)}function K(e){if(a===null)return e();const t=a;a=null;try{return e()}finally{a=t}}function ie(){if(this.sources&&this.state)if(this.state===C)N(this);else{const e=h;h=null,P(()=>I(this),!1),h=e}if(a){const e=this.observers?this.observers.length:0;a.sources?(a.sources.push(this),a.sourceSlots.push(e)):(a.sources=[this],a.sourceSlots=[e]),this.observers?(this.observers.push(a),this.observerSlots.push(a.sources.length-1)):(this.observers=[a],this.observerSlots=[a.sources.length-1])}return this.value}function oe(e,t,s){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&P(()=>{for(let r=0;r<e.observers.length;r+=1){const l=e.observers[r],o=J&&J.running;o&&J.disposed.has(l),(o?!l.tState:!l.state)&&(l.pure?h.push(l):$.push(l),l.observers&&ue(l)),o||(l.state=C)}if(h.length>1e6)throw h=[],new Error},!1)),t}function N(e){if(!e.fn)return;H(e);const t=F;ge(e,e.value,t)}function ge(e,t,s){let n;const r=p,l=a;a=p=e;try{n=e.fn(t)}catch(o){return e.pure&&(e.state=C,e.owned&&e.owned.forEach(H),e.owned=null),e.updatedAt=s+1,fe(o)}finally{a=l,p=r}(!e.updatedAt||e.updatedAt<=s)&&(e.updatedAt!=null&&"observers"in e?oe(e,n):e.value=n,e.updatedAt=s)}function Q(e,t,s,n=C,r){const l={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:p,context:p?p.context:null,pure:s};return p===null||p!==le&&(p.owned?p.owned.push(l):p.owned=[l]),l}function D(e){if(e.state===0)return;if(e.state===W)return I(e);if(e.suspense&&K(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<F);)e.state&&t.push(e);for(let s=t.length-1;s>=0;s--)if(e=t[s],e.state===C)N(e);else if(e.state===W){const n=h;h=null,P(()=>I(e,t[0]),!1),h=n}}function P(e,t){if(h)return e();let s=!1;t||(h=[]),$?s=!0:$=[],F++;try{const n=e();return me(s),n}catch(n){s||($=null),h=null,fe(n)}}function me(e){if(h&&(ce(h),h=null),e)return;const t=$;$=null,t.length&&P(()=>re(t),!1)}function ce(e){for(let t=0;t<e.length;t++)D(e[t])}function ve(e){let t,s=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[s++]=n:D(n)}for(t=0;t<s;t++)D(e[t])}function I(e,t){e.state=0;for(let s=0;s<e.sources.length;s+=1){const n=e.sources[s];if(n.sources){const r=n.state;r===C?n!==t&&(!n.updatedAt||n.updatedAt<F)&&D(n):r===W&&I(n,t)}}}function ue(e){for(let t=0;t<e.observers.length;t+=1){const s=e.observers[t];s.state||(s.state=W,s.pure?h.push(s):$.push(s),s.observers&&ue(s))}}function H(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),n=e.sourceSlots.pop(),r=s.observers;if(r&&r.length){const l=r.pop(),o=s.observerSlots.pop();n<r.length&&(l.sourceSlots[o]=n,r[n]=l,s.observerSlots[n]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)H(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function we(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function fe(e,t=p){throw we(e)}let ye=!1;function X(e,t){return K(()=>e(t||{}))}function be(e,t,s){let n=s.length,r=t.length,l=n,o=0,i=0,c=t[r-1].nextSibling,f=null;for(;o<r||i<l;){if(t[o]===s[i]){o++,i++;continue}for(;t[r-1]===s[l-1];)r--,l--;if(r===o){const u=l<n?i?s[i-1].nextSibling:s[l-i]:c;for(;i<l;)e.insertBefore(s[i++],u)}else if(l===i)for(;o<r;)(!f||!f.has(t[o]))&&t[o].remove(),o++;else if(t[o]===s[l-1]&&s[i]===t[r-1]){const u=t[--r].nextSibling;e.insertBefore(s[i++],t[o++].nextSibling),e.insertBefore(s[--l],u),t[r]=s[l]}else{if(!f){f=new Map;let d=i;for(;d<l;)f.set(s[d],d++)}const u=f.get(t[o]);if(u!=null)if(i<u&&u<l){let d=o,y=1,O;for(;++d<r&&d<l&&!((O=f.get(t[d]))==null||O!==u+y);)y++;if(y>u-i){const U=t[o];for(;i<u;)e.insertBefore(s[i++],U)}else e.replaceChild(s[i++],t[o++])}else o++;else t[o++].remove()}}}const te="_$DX_DELEGATE";function xe(e,t,s,n={}){let r;return pe(l=>{r=l,t===document?e():v(t,e(),t.firstChild?null:void 0,s)},n.owner),()=>{r(),t.textContent=""}}function w(e,t,s){let n;const r=()=>{const o=document.createElement("template");return o.innerHTML=e,o.content.firstChild},l=()=>(n||(n=r())).cloneNode(!0);return l.cloneNode=l,l}function $e(e,t=window.document){const s=t[te]||(t[te]=new Set);for(let n=0,r=e.length;n<r;n++){const l=e[n];s.has(l)||(s.add(l),t.addEventListener(l,_e))}}function x(e,t,s){s==null?e.removeAttribute(t):e.setAttribute(t,s)}function v(e,t,s,n){if(s!==void 0&&!n&&(n=[]),typeof t!="function")return R(e,t,n,s);b(r=>R(e,t(),r,s),n)}function _e(e){const t="$$".concat(e.type);let s=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==s&&Object.defineProperty(e,"target",{configurable:!0,value:s}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return s||document}});s;){const n=s[t];if(n&&!s.disabled){const r=s["".concat(t,"Data")];if(r!==void 0?n.call(s,r,e):n.call(s,e),e.cancelBubble)return}s=s._$host||s.parentNode||s.host}}function R(e,t,s,n,r){for(;typeof s=="function";)s=s();if(t===s)return s;const l=typeof t,o=n!==void 0;if(e=o&&s[0]&&s[0].parentNode||e,l==="string"||l==="number"){if(l==="number"&&(t=t.toString(),t===s))return s;if(o){let i=s[0];i&&i.nodeType===3?i.data!==t&&(i.data=t):i=document.createTextNode(t),s=B(e,s,n,i)}else s!==""&&typeof s=="string"?s=e.firstChild.data=t:s=e.textContent=t}else if(t==null||l==="boolean")s=B(e,s,n);else{if(l==="function")return b(()=>{let i=t();for(;typeof i=="function";)i=i();s=R(e,i,s,n)}),()=>s;if(Array.isArray(t)){const i=[],c=s&&Array.isArray(s);if(Z(i,t,s,r))return b(()=>s=R(e,i,s,n,!0)),()=>s;if(i.length===0){if(s=B(e,s,n),o)return s}else c?s.length===0?se(e,i,n):be(e,s,i):(s&&B(e),se(e,i));s=i}else if(t.nodeType){if(Array.isArray(s)){if(o)return s=B(e,s,n,t);B(e,s,null,t)}else s==null||s===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);s=t}}return s}function Z(e,t,s,n){let r=!1;for(let l=0,o=t.length;l<o;l++){let i=t[l],c=s&&s[e.length],f;if(!(i==null||i===!0||i===!1))if((f=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))r=Z(e,i,c)||r;else if(f==="function")if(n){for(;typeof i=="function";)i=i();r=Z(e,Array.isArray(i)?i:[i],Array.isArray(c)?c:[c])||r}else e.push(i),r=!0;else{const u=String(i);c&&c.nodeType===3&&c.data===u?e.push(c):e.push(document.createTextNode(u))}}return r}function se(e,t,s=null){for(let n=0,r=t.length;n<r;n++)e.insertBefore(t[n],s)}function B(e,t,s,n){if(s===void 0)return e.textContent="";const r=n||document.createTextNode("");if(t.length){let l=!1;for(let o=t.length-1;o>=0;o--){const i=t[o];if(r!==i){const c=i.parentNode===e;!l&&!o?c?e.replaceChild(r,i):e.insertBefore(r,s):c&&i.remove()}else l=!0}}else e.insertBefore(r,s);return[r]}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();function Se(e){return new WebSocket("wss://tchat.ketsuna.com/channels/".concat(e,"/gateway"))}async function Ce(e,t,s){return(await fetch(e,{method:"POST",body:JSON.stringify({content:t,username:s}),headers:{"Content-Type":"application/json"}})).json()}async function Ee(e){const t=await fetch("https://tchat.ketsuna.com/channels/".concat(e,"/messages"));return t.ok?t.json():!1}async function Ae(e){return(await fetch("https://tchat.ketsuna.com/channels/".concat(e,"/webhook"),{method:"POST"})).text()}var ne=w('<div class="flex items-center">'),Le=w('<img class="w-6 h-6"alt=emoji>'),Te=w('<span class="bg-blue-100 text-blue-500 p-1 rounded-lg">@'),Be=w("<div>"),Oe=w('<div class="flex items-center mt-4"><img class="w-10 h-10 rounded-full"alt=avatar><div class=ml-2><h3 class=font-semibold>'),je=w("<img class=aspect-auto>"),Ne=w("<video controls class=aspect-auto><source>"),Pe=w("<iframe class=aspect-auto>"),Ue=w("<a target=_blank rel=noreferrer>"),ke=w('<div><div class="rounded-full shadow-md p-4 fixed bottom-4 right-4 cursor-pointer"><svg class="w-8 h-8 text-black"xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=currentColor><path d="M10 3H14C18.4183 3 22 6.58172 22 11C22 15.4183 18.4183 19 14 19V22.5C9 20.5 2 17.5 2 11C2 6.58172 5.58172 3 10 3Z"></path></svg></div><div class="fixed bottom-4 right-4 bg-white rounded-lg shadow-md p-4 h-3/4 w-96"><div class="flex items-center justify-between"><h2 class="text-lg font-semibold">Chat</h2><div class="text-2xl cursor-pointer hover:bg-gray-100 rounded-full p-2"><svg class="w-8 h-8 text-black"xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=currentColor><path d="M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"></path></svg></div></div><div class="mt-4 h-3/4 overflow-y-auto"id=chat-box></div><div class=mt-4><input type=text class="w-full border-2 border-gray-200 p-2 rounded-lg"></div><br><br>'),Me=w("<div class=text-red-500>An error occured");function We({content:e,mentioned:t}){const s=/<a?:\w+:\d+>/g,n=e.match(s);if(n){const o=e.split(s);return(()=>{var i=ne();return v(i,()=>o.map((c,f)=>[c,E(()=>E(()=>!!n[f])()?(()=>{var u=Le();return b(()=>x(u,"src","https://cdn.discordapp.com/emojis/".concat(n[f].split(":")[2].slice(0,-1),".").concat(n[f].split(":")[0]==="<a"?"gif":"png"))),u})():null)])),i})()}const r=/<@!*&*[0-9]+>/g,l=e.match(r);if(l){const o=e.split(r);return(()=>{var i=ne();return v(i,()=>o.map((c,f)=>[c,E(()=>E(()=>!!l[f])()?(()=>{var u=Te();return u.firstChild,v(u,()=>{var d;return((d=t.find(y=>l[f].includes(y.id)))==null?void 0:d.username)||"Unknown User"},null),u})():null)])),i})()}return(()=>{var o=Be();return v(o,e),o})()}function De(e){let t="https://cdn.discordapp.com/avatars/".concat(e.author.id,"/").concat(e.author.avatar,".png");return e.author.avatar===""&&(t="https://cdn.discordapp.com/embed/avatars/1.png"),(()=>{var s=Oe(),n=s.firstChild,r=n.nextSibling,l=r.firstChild;return x(n,"src",t),v(l,()=>e.author.username),v(r,(()=>{var o=E(()=>!!e.content);return()=>o()?X(We,{get content(){return e.content},get mentioned(){return e.mentions}}):null})(),null),v(r,(()=>{var o=E(()=>e.attachments.length>0);return()=>o()?e.attachments.map(i=>i.content_type.startsWith("image")?(()=>{var c=je();return b(f=>{var u=i.url,d=i.filename;return u!==f.e&&x(c,"src",f.e=u),d!==f.t&&x(c,"alt",f.t=d),f},{e:void 0,t:void 0}),c})():i.content_type.startsWith("video")?(()=>{var c=Ne(),f=c.firstChild;return b(u=>{var d=i.url,y=i.content_type;return d!==u.e&&x(f,"src",u.e=d),y!==u.t&&x(f,"type",u.t=y),u},{e:void 0,t:void 0}),c})():i.content_type.startsWith("text")?(()=>{var c=Pe();return b(()=>x(c,"src",i.url)),c})():(()=>{var c=Ue();return v(c,()=>i.filename),b(()=>x(c,"href",i.url)),c})()):null})(),null),s})()}function Ie({script:e}){const[t,s]=T(!1),[n,r]=T([]),[l,o]=T(""),i=new URL(e),[c,f]=T(""),u=i.searchParams.get("channel_id")||"",[d,y]=T(""),[O,U]=T(!1);function Y(){const g=document.getElementById("chat-box");g.scrollTop=g.scrollHeight}ee(()=>{if(u==="")return U(!0);Ae(u).then(g=>{y(g)}),Ee(u).then(g=>{g?r(g.reverse()):U(!0)})},[u,l()]),setTimeout(()=>{Y()},1e3);function ae(){if(l()==""){o(c()),f("");return}Ce(d(),c(),l()),f("")}return ee(()=>{if(O())return;window.addEventListener("keydown",A=>{A.key==="Enter"&&ae()});const g=Se(u);g.onmessage=A=>{try{const _=atob(A.data),k=new TextEncoder().encode(_),V=new TextDecoder("utf-8").decode(k),j=JSON.parse(V),L=n().findIndex(S=>S.id===j.id);if(L!==-1){r(S=>(S[L]=j,S));return}r(S=>[...S,j]),Y()}catch(_){console.error(_)}}},[u]),(()=>{var g=ke(),A=g.firstChild,_=A.nextSibling,k=_.firstChild,V=k.firstChild,j=V.nextSibling,L=k.nextSibling,S=L.nextSibling,q=S.firstChild;return A.$$click=()=>s(!0),j.$$click=()=>s(!1),v(_,(()=>{var m=E(()=>!!O());return()=>m()?Me():null})(),L),v(L,()=>n().map(m=>X(De,m))),q.$$input=m=>f(m.currentTarget.value),b(m=>{var G=t()?"block":"none",z=l()?"Send message":"Set  Username";return G!==m.e&&((m.e=G)!=null?_.style.setProperty("display",G):_.style.removeProperty("display")),z!==m.t&&x(q,"placeholder",m.t=z),m},{e:void 0,t:void 0}),b(()=>q.value=c()),g})()}$e(["click","input"]);const Re=import.meta.url.includes("v=")?"http://localhost:3000/bundle.js?channel_id=1258912186244268104":import.meta.url,Fe=document.querySelector("body");xe(()=>X(Ie,{script:Re}),Fe);export{He as __vite_legacy_guard};
